import{r as h,R as p}from"./react-925712a7.js";import{t as o}from"./tsparticles-engine-4f96873b.js";import{e as c}from"./fast-deep-equal-d75e2728.js";const d="tsparticles";class n extends h.Component{constructor(t){super(t),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(t){return!c(t,this.props)}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(o),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:t,height:s,className:i,canvasClassName:a,id:e}=this.props;return p.createElement("div",{className:i,id:e},p.createElement("canvas",{className:a,style:Object.assign(Object.assign({},this.props.style),{width:t,height:s})}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){var t,s,i;if(!this.state.init)return;const a=async r=>{this.props.container&&(this.props.container.current=r),this.setState({library:r}),this.props.loaded&&await this.props.loaded(r)},e=(s=(t=this.props.id)!==null&&t!==void 0?t:n.defaultProps.id)!==null&&s!==void 0?s:d,l=this.props.url?await o.loadJSON(e,this.props.url):await o.load(e,(i=this.props.params)!==null&&i!==void 0?i:this.props.options);await a(l)}}n.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:d};export{n as P};
